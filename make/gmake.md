# gmake

https://www.ecoop.net/coop/translated/GNUMake3.77/make_toc.jp.html


## デバッグの仕方

デバッグ時に役立ちそうなオプション
```
-p
--print-data-base
    makefileを読んでその結果としてデータベース(ルールと変数の値)を出力する。
    それからmakefileはいつも通りに(指定した場合指定したように)実行される。
    このオプションは `-v` スイッチ(下を参照)で与えられるバージョン情報も出力します。
    全くファイルを作成しようとしないでデータベースを出力するには `make -p -f /dev/null` を使って下さい。 

-d
--debug
通常処理に加えてデバッグ情報を出力します。
    デバッグ情報は、どんなファイルがmakeの作業に関わるか、
    どのファイル時刻が比較されてその結果はどうだったか、
    どんなファイルを本当はmakeするべきだったか、
    どんな暗黙ルールが関わったか、
    など、どれがmakeの実行に関わったかという類のことなら何でも教えてくれます。 

-n
--just-print
--dry-run
--recon
    普通どおり実行されるはずのコマンドを出力するが、実行はしない。
    コマンドを実行する代わりに…の項を参照。 
```



## Makefile

### 変数

```
変数名
    大文字小文字を区別
    
    - makefileの内部利用が目的の変数には小文字
    - 大文字の変数名は暗黙のルールを制御する媒介変数(parameters)や
	コマンドオプションで上書きすべき媒介変数(parameters)

代入
    =      
	再帰展開変数。
	右辺は変数展開されない。一字一句同じに格納される。
	あとで再帰的に評価。
    :=     
	単純展開変数。
	右辺は(再帰的に)評価されて結果の値が格納される



define？


展開
    $(変数名)
    ${変数名}



分岐
    ifndef
    ifeq
    else
    endif


自動変数
    $@    ルールのターゲットのファイル名
    $*    語幹
```

### ルール

TODO
